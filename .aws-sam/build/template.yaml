AWSTemplateFormatVersion: '2010-09-09'
Transform: AWS::Serverless-2016-10-31
Description: 'python3.8

  Sample SAM Template for flask

  '
Globals:
  Function:
    Timeout: 10
Resources:
  FlaskFunction:
    Type: AWS::Serverless::Function
    Properties:
      PackageType: Image
      MemorySize: 256
      Events:
        ApiEvent:
          Type: HttpApi
      ImageUri: flaskfunction:python3.8-v1
    Metadata:
      DockerContext: C:\Users\zachf\src\ytpoppers-api
      DockerTag: python3.8-v1
      Dockerfile: Dockerfile
      SamResourceId: FlaskFunction
Outputs:
  FlaskApi:
    Description: API Gateway endpoint URL for Prod stage for Flask function
    Value:
      Fn::Sub: https://${ServerlessHttpApi}.execute-api.${AWS::Region}.${AWS::URLSuffix}/
  FlaskFunction:
    Description: Flask Lambda Function ARN
    Value:
      Fn::GetAtt:
      - FlaskFunction
      - Arn
  FlaskIamRole:
    Description: Implicit IAM Role created for Flask function
    Value:
      Fn::GetAtt:
      - FlaskFunctionRole
      - Arn
